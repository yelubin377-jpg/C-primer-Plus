
---
# è¥¿é‚® Linux å…´è¶£å°ç»„ 2025 çº³æ–°é¢è¯•é¢˜
> å­¦é•¿å¯„è¯­ï¼šé•¿æœŸä»¥æ¥ï¼Œè¥¿é‚® Linux å…´è¶£å°ç»„çš„é¢è¯•é¢˜ä»¥éš¾åº¦ä¹‹é«˜åæ‰¬è¥¿é‚®æ ¡å†…ã€‚æˆ‘ä»¬ä½œä¸ºå‡ºé¢˜äººä¹Ÿæ¸…æ¥šåœ°çŸ¥é“è¿™ä»½è¯•é¢˜ç•¥æœ‰éš¾åº¦ã€‚**è¯·ä½ åŠ¨æ‰‹æ•²ä¸€æ•²ä»£ç **ã€‚åˆ«æ‹…å¿ƒï¼Œè‹¥æœ‰åŒå­¦èƒ½å®Œæˆä¸€åŠçš„é¢˜ç›®ï¼Œå°±å·²ç»ååˆ†ä¼˜ç§€ã€‚å…¶æ¬¡ï¼Œç›¸æ¯”äºé¢˜ç›®çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬å¯¹ä½ çš„æ€è·¯å’Œè¿‡ç¨‹æ›´æ„Ÿå…´è¶£ï¼Œæˆ–è®¸ä½ çš„ç­”æ¡ˆç•¥æœ‰ç‘•ç–µï¼Œä½†ä½ æ­£ç¡®çš„æ€è·¯å’Œå¯¹çŸ¥è¯†çš„ç†è§£è¶³ä»¥ä¸ºä½ èµ¢å¾—ç»å¤§å¤šæ•°çš„åˆ†æ•°ã€‚æœ€åï¼Œåšé¢˜çš„è¿‡ç¨‹ä¹Ÿæ˜¯å­¦ä¹ å’Œæˆé•¿çš„è¿‡ç¨‹ï¼Œç›¸ä¿¡æœ¬è¯•é¢˜å¯¹ä½ æ›´åŠ ç†Ÿæ‚‰åœ°æŒæ¡ C è¯­è¨€ä¸€å®šæœ‰æ‰€å¸®åŠ©ã€‚ç¥ä½ å¥½è¿ã€‚æˆ‘ä»¬ä¸œåŒºé€¸å¤«æ¥¼ FZ103 è§ï¼

- æœ¬é¢˜ç›®åªä½œä¸ºè¥¿é‚® Linux å…´è¶£å°ç»„ 2025 çº³æ–°é¢è¯•çš„æœ‰é™å‚è€ƒã€‚
- ä¸ºèŠ‚çœç‰ˆé¢ï¼Œæœ¬è¯•é¢˜çš„ç¨‹åºæºç çœå»äº† `#include` æŒ‡ä»¤ã€‚
- æœ¬è¯•é¢˜ä¸­çš„ç¨‹åºæºç ä»…ç”¨äºè€ƒå¯Ÿ C è¯­è¨€åŸºç¡€ï¼Œä¸åº”å½“ä½œä¸º C è¯­è¨€ã€Œä»£ç é£æ ¼ã€çš„èŒƒä¾‹ã€‚
- æ‰€æœ‰é¢˜ç›®ç¼–è¯‘å¹¶è¿è¡Œäº **x86_64 GNU/Linux** ç¯å¢ƒã€‚

---

## 0. æ‹¼å‘½çš„ä¼é¹…

ä¸€åªä¼é¹…åœ¨çˆ¬å±±ï¼Œæ¯éš”ä¸€æ®µè·¯éƒ½ä¼šé‡åˆ°ä¸€å—çŸ³å¤´ã€‚ç¬¬ 1 å—çŸ³å¤´é‡é‡æ˜¯ `a`ï¼Œæ¯å¾€ä¸Šèµ°ä¸€æ®µè·¯ï¼ŒçŸ³å¤´é‡é‡å°±ä¼šå˜æˆä¸Šä¸€æ®µçš„å¹³æ–¹ã€‚ä¼é¹…å¯ä»¥é€‰æ‹©æŠŠæŸäº›çŸ³å¤´æ¡èµ·æ¥ï¼Œæœ€åæŠŠæ¡åˆ°çš„çŸ³å¤´é‡é‡ç›¸ä¹˜ã€‚

å®ƒæ€æ ·æ¡çŸ³å¤´ï¼Œæ‰èƒ½å¾—åˆ°é‡é‡ä¹˜ç§¯æ°å¥½æ˜¯ `a` çš„ `b` æ¬¡æ–¹çš„çŸ³å¤´ï¼Ÿï¼ˆæ¯”å¦‚ `b = 173` æ—¶ï¼Œ è¦æ¡å“ªäº›çŸ³å¤´ï¼Ÿï¼‰

---

 é¢˜è§£ï¼šåˆ—å‡ºbçš„äºŒè¿›åˆ¶è¡¨è¾¾å¼ï¼Œå¦‚173çš„äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸º10101101å³ä»å³åˆ°å·¦åˆ†åˆ«ä¸º1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5â€¦â€¦å—çŸ³å¤´ï¼Œè‹¥ä¸º1åˆ™æ¡èµ·ï¼Œå¦åˆ™ä¸æ¡

---

## 1. è¥¿é‚®Linuxæ¬¢è¿ä½ å•Š

è¯·è§£é‡Šä»¥ä¸‹ä»£ç çš„è¿è¡Œç»“æœã€‚



```C
int main() {
    if (printf("Hi guys! ") || printf("Xiyou Linux ")) {
        printf("%d\n", printf("Welcome to Xiyou Linux 2%d", printf("")));
    }
    return 0;
}
```

---

 é¢˜è§£ï¼šçŸ­è·¯åŸåˆ™ï¼Œå·¦ä¾§ä¸ºçœŸï¼Œå³è¾¹è¢«çŸ­è·¯ï¼Œæ‰§è¡Œå·¦ä¾§å‘½ä»¤åè¿›å…¥ifè¯­å¥ï¼Œè€ŒåprintfåµŒå¥—ï¼Œæœ€å†…å±‚è¾“å‡º0ï¼Œè€Œåè¾“å‡º20ï¼Œ
 æœ€å¤–å±‚printfå› ä¸ºåé¢å…±25ä¸ªå­—ç¬¦ï¼Œè¾“å‡º2025

æ•…æœ€åè¾“å‡ºï¼šHi guys! Welcome to Xiyou Linux 2025

---

## 2. å¯ä»¥å’Œ `\0` ç»„ä¸€è¾ˆå­å­—ç¬¦ä¸²å—ï¼Ÿ

ä½ èƒ½æ‰¾åˆ°æˆåŠŸæ‰“å°çš„è¯­å¥å—ï¼Ÿä½ èƒ½çœ‹å‡ºæ¯ä¸ª `if` ä¸­å‡½æ•°çš„è¿”å›å€¼å—ï¼Ÿè¿™äº›å‡½æ•°å„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ



```C
int main() {
    char p1[] = { 'W', 'e', 'l', 'c', 'o', 'm', 'e', '\0' };
    char p2[] = "Join us\0", p4[] = "xiyou_linux_group";
    const char* p3 = "Xiyou Linux Group\0\n2025\0";
    if (strcmp(p1, p2)) {
        printf("%s to %s!\n", p1, p2);
    }
    if (strlen(p3) > sizeof(p3)) {
        printf("%s", p3);
    }
    if (sizeof(p1) == sizeof(p2)) {
        printf("%s", p4);
    }
    return 0;
}
```

---

 é¢˜è§£ï¼š

strcmpå¯¹æ¯”p1ä¸p2é¦–å­—æ¯ASCIIå€¼ï¼Œp1å¤§äºp2ï¼Œè¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¿›å…¥ifè¯­å¥ï¼Œæ‰§è¡Œã€‚
 åˆå› ä¸ºstrlen(p3)=17,sizeof(p3)=4æˆ–8,æ¡ä»¶ä¸ºçœŸï¼Œè¾“å‡ºp3
 æœ€å 8 ï¼= 9ï¼ˆå«ç³»ç»Ÿè‡ªåŠ¨è¡¥çš„\0ï¼‰ï¼Œä¸è¾“å‡º
 æœ€ç»ˆè¾“å‡ºï¼š

Welcome to Join us!
 Xiyou Linux Group


---

## 3. æ•°å­¦æ²¡é—®é¢˜ï¼Œæµ®ç‚¹æ•°æœ‰é¬¼

è¿™ä¸ªç¨‹åºçš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿè§£é‡Šä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ



```C
int main() {
    float a1 = 0.3, b1 = 6e-1, sum1 = 0.9;
    printf("a1 + b1 %s sum1\n", (a1 + b1 == sum1) ? "==" : "!=");
    float a2 = 0x0.3p0, b2 = 0x6p-4, sum2 = 0x0.9p0;
    printf("a2 + b2 %s sum2\n", (a2 + b2 == sum2) ? "==" : "!=");
    return 0;
}
```

 é¢˜è§£ï¼š

å› ä¸º0.3æ— æ³•è¢«äºŒè¿›åˆ¶ç²¾ç¡®å­˜å‚¨ï¼Œ0.6ï¼Œ0.9åŒç†ï¼Œæ•…ä¸‰è€…å­˜å‚¨çš„å€¼æœ‰åå·®ï¼Œæœ€ç»ˆä¸ç›¸ç­‰
è€Œa2=3*16çš„è´Ÿä¸€æ¬¡æ–¹ï¼Œ6*16çš„é›¶æ¬¡æ–¹ï¼Œå†*2çš„ï¼4æ¬¡æ–¹ï¼Œä¸¤è€…åŠ èµ·æ¥ç­‰äº9/16ï¼Œä¸sum2ç›¸ç­‰ã€‚
æœ€ç»ˆè¾“å‡ºï¼ša1 + b1 != sum1
                    a2 + b2 == sum2

---

## 4. ä¸åˆç¾¤çš„æ•°å­—

åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ‰€æœ‰æ•°å­—éƒ½å‡ºç°äº†å¶æ•°æ¬¡ï¼Œåªæœ‰ä¸¤ä¸ªæ•°å­—å‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œè¯·èªæ˜çš„ä½ å¸®æˆ‘çœ‹çœ‹ä»¥ä¸‹çš„ä»£ç æ˜¯å¦‚ä½•æ‰¾åˆ°è¿™ä¸¤ä¸ªæ•°å­—çš„å‘¢ï¼Ÿ



```C
void findUndercoverIDs(int nums[], int size) {
    int xorAll = 0,id_a = 0,id_b = 0;
    for (int i = 0; i < size; i++) {
        xorAll ^= nums[i];
    }
    int diffBit = xorAll & -xorAll;
    for (int i = 0; i < size; i++) {
        if(nums[i] & diffBit){
            id_a ^= nums[i];
        } else {
            id_b ^= nums[i];
        }
    }
    printf("These nums are %d %d\n", id_a, id_b);
}
```

---

 é¢˜è§£ï¼šé¦–å…ˆä¸€ä¸ªæ•´æ•°æ•°ç»„ä¸æ•°ç»„é•¿åº¦ï¼Œå®šä¹‰xorAllï¼Œid_a,id_bä¸‰ä¸ªå˜é‡ï¼Œç„¶åæ ¹æ®å¼‚æˆ–è¿ç®—ç›¸åŒæ•°å­—ä¼šæŠµæ¶ˆçš„æ€§è´¨ï¼Œ
  ä½¿å¾—æœ€ç»ˆxorallçš„å€¼ä¸º0^a^b
 ç„¶åé€šè¿‡æŒ‰ä½äºè¿ç®—è®¡ç®—å‡ºaä¸bä¸åŒçš„é‚£ä¸€ä½ï¼Œç„¶åé€šè¿‡forå¾ªç¯éå†æ•°ç»„ï¼Œæœ€åé€šè¿‡ifè¯­å¥ä¸å¼‚æˆ–è¿ç®—åˆ¤æ–­diffBitä½æ˜¯0ï¼ˆbï¼‰è¿˜æ˜¯1ï¼ˆaï¼‰ä»¥æ­¤æ¥åˆ¤æ–­åŒºåˆ†aå’Œbã€‚


---

## 5. ä¼šä¸€ç›´å¾ªç¯å—ï¼Ÿ

ä½ äº†è§£ `argc` å’Œ `argv` å—ï¼Œç¨‹åºçš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ



```C
int main(int argc, char* argv[]) {
    printf("argc = %d\n", argc);
    while (argc++ > 0) {
        if(argc < 0){
            printf("argv[0] %s\n", argv[0]);
            break;
        }
    }
    printf("argc = %d\n", argc);
    return 0;
}
```

---

 é¢˜è§£ï¼šargcæŒ‡å‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°ï¼ˆåŒ…æ‹¬ç¨‹åºæœ¬èº«ï¼‰ï¼Œargvæ˜¯å‚æ•°æ•°ç»„argv[0]æ˜¯ç¨‹åºå
 argcå…ˆä½¿ç”¨å+1ï¼Œç„¶åå› ä¸ºargcä¸€ç›´å¤§äº0ï¼Œæ‰€ä»¥ä¸€å¼€å§‹ä¸ä¼šè¿›å…¥ifè¯­å¥ï¼Œä¼šä¸€ç›´åœ¨whileå¾ªç¯  ä¸­ä¸€ç›´è‡ªå¢ï¼Œ
 ç›´åˆ°è‡ªå¢åˆ°2147483647ï¼Œå†è‡ªå¢å°±å¯¼è‡´æº¢å‡ºï¼Œå˜ä¸ºè´Ÿæ•°-2147483648ï¼Œæ­¤æ—¶argcå°äº0ï¼Œè¾“å‡ºifè¯­å¥ä¸­çš„å†…å®¹ï¼Œ
 ç„¶åé€€å‡ºwhileå¾ªç¯ï¼Œæœ€ç»ˆè¾“å‡ºæœ€åä¸€ä¸ªprintfè¯­å¥
 æœ€ç»ˆè¾“å‡ºï¼š
 argc = 1
 argv[0] D:\VSä½œå“\ä»»åŠ¡\x64\Debug\ä»»åŠ¡.exe
 argc = -2147483646

---

## 6. `const` ä¸æŒ‡é’ˆï¼šè°èƒ½åŠ¨ï¼Œè°ä¸èƒ½åŠ¨ï¼Ÿ



```c
struct P {
    int x;
    const int y;
};

int main() {
    struct P p1 = { 10, 20 }, p2 = { 30, 40 };
    const struct P p3 = { 50, 60 };
    struct P* const ptr1 = &p1;
    const struct P* ptr2 = &p2;
    const struct P* const ptr3 = &p3;
    return 0;
}
```

è¯´è¯´ä¸‹åˆ—æ“ä½œæ˜¯å¦åˆæ³•ï¼Œå¹¶è§£é‡ŠåŸå› ï¼š

`ptr1->x = 100`, `ptr2->x = 300`, `ptr3->x = 500`

`ptr1->y = 200`, `ptr1 = &p2`, `ptr2->y = 400`

`ptr2 = &p1`, `ptr3->y = 600`, `ptr3 = &p1`      

---


é¢˜è§£ï¼š

          1. ptr1ï¼šæŒ‡å‘struct Pçš„å¸¸é‡æŒ‡é’ˆï¼ˆæŒ‡é’ˆæœ¬èº«ä¸èƒ½å˜ï¼ŒæŒ‡å‘çš„å¯¹è±¡éconstæˆå‘˜å¯æ”¹ï¼‰
         struct P* const ptr1 = &p1;
          2. ptr2ï¼šæŒ‡å‘const struct Pçš„æŒ‡é’ˆï¼ˆæŒ‡é’ˆæœ¬èº«å¯å˜ï¼ŒæŒ‡å‘çš„å¯¹è±¡ä¸å¯é€šè¿‡ptr2æ”¹ï¼‰
         const struct P* ptr2 = &p2;
          3. ptr3ï¼šæŒ‡å‘const struct Pçš„å¸¸é‡æŒ‡é’ˆï¼ˆæŒ‡é’ˆæœ¬èº«+æŒ‡å‘çš„å¯¹è±¡éƒ½ä¸å¯æ”¹ï¼‰
         const struct P* const ptr3 = &p3;
            æ“ä½œæ­£ç¡®ä¸å¦ï¼š
            ptr1->x = 100ï¼Œæ“ä½œåˆæ³•
            ptr2->x = 300ï¼Œæ“ä½œéæ³•ï¼Œä¸èƒ½ä¿®æ”¹æŒ‡å‘å¯¹è±¡çš„å…ƒç´ 
            ptr3->x = 500ï¼Œæ“ä½œéæ³•ï¼Œä¸èƒ½ä¿®æ”¹æŒ‡å‘å¯¹è±¡çš„å…ƒç´ 
            ptr1->y = 200ï¼Œæ“ä½œéæ³•ï¼Œä¸èƒ½ä¿®æ”¹constä¿®é¥°çš„å˜é‡ï¼ˆå…¶ä¸ºå¸¸å˜é‡ï¼‰
            ptr1 = &p2   ï¼Œæ“ä½œéæ³•ï¼Œä¸èƒ½ä¿®æ”¹æŒ‡å‘å¯¹è±¡
            ptr2->y = 400ï¼Œæ“ä½œéæ³•ï¼Œä¸èƒ½ä¿®æ”¹æŒ‡å‘å¯¹è±¡çš„å…ƒç´ 
            ptr2 = &p1   ï¼Œæ“ä½œåˆæ³•
            ptr3->y = 600ï¼Œæ“ä½œéæ³•ï¼Œä¸èƒ½ä¿®æ”¹æŒ‡å‘å¯¹è±¡çš„å…ƒç´ 
            ptr3 = &p1   ï¼Œæ“ä½œéæ³•ï¼Œä¸èƒ½ä¿®æ”¹æŒ‡å‘å¯¹è±¡

---


## 7. æŒ‡é’ˆï¼æ•°ç»„!

åœ¨ä¸»å‡½æ•°ä¸­å®šä¹‰å¦‚ä¸‹å˜é‡:



```c
int main() {
    int a[3] = { 2, 4, 8 };
    int(*b)[3] = &a;
    int* c[3] = { a, a + 1, a + 2 };
    int (*f1(int))(int*, int);
    return 0;
}
```

è¯´è¯´è¿™å‡ ä¸ªè¡¨è¾¾å¼çš„è¾“å‡ºåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

`a`, `*b`, `*b + 1`, `b`, `b + 1`, `* (*b + 1)`, `c`, `sizeof(a)`, `sizeof(b)`, `sizeof(&a)`, `sizeof(f1)`   

---

é¢˜è§£ï¼š

   1. è¡¨è¾¾å¼ a
      ç±»å‹ï¼šint * ï¼ˆæ•°ç»„ååœ¨è¡¨è¾¾å¼ä¸­é€€åŒ–ä¸ºæŒ‡å‘é¦–å…ƒç´ çš„æŒ‡é’ˆï¼Œä»…å½“sizeof(a)æˆ– & aæ—¶ä¾‹å¤–ï¼‰ã€‚
      å€¼ï¼šæ•°ç»„aé¦–å…ƒç´ a[0]çš„åœ°å€ï¼ˆæ¯”å¦‚0x1000ï¼‰ã€‚
   2. è¡¨è¾¾å¼ * b
      ç±»å‹ï¼šint * ï¼ˆbæ˜¯æ•°ç»„æŒ‡é’ˆï¼ŒæŒ‡å‘aæ•°ç»„æœ¬èº«ï¼› * bå°±æ˜¯aæ•°ç»„ï¼ŒåŒæ ·é€€åŒ–ä¸ºæŒ‡å‘é¦–å…ƒç´ çš„æŒ‡é’ˆï¼‰ã€‚
      å€¼ï¼šåŒaï¼Œå³ & a[0]ï¼ˆ0x1000ï¼‰ã€‚
   3. è¡¨è¾¾å¼ * b + 1
      ç±»å‹ï¼šint * ï¼ˆ * bæ˜¯int * ï¼Œ + 1è¡¨ç¤ºè·³è¿‡1ä¸ªintçš„å¤§å°ï¼‰ã€‚
      å€¼ï¼ša[1]çš„åœ°å€ï¼ˆ0x1000 + 4 = 0x1004ï¼‰ã€‚
   4. è¡¨è¾¾å¼ b
      ç±»å‹ï¼šint(*)[3]ï¼ˆæ•°ç»„æŒ‡é’ˆï¼ŒæŒ‡å‘int[3]ç±»å‹çš„æ•°ç»„ï¼‰ã€‚
      å€¼ï¼šæ•°ç»„açš„æ•´ä½“åœ°å€ï¼ˆæ³¨æ„ï¼š & aå’Œaçš„å€¼ç›¸åŒï¼Œä½†ç±»å‹ä¸åŒâ€”â€”aæ˜¯int * ï¼Œ & aæ˜¯int(*)[3]ï¼Œæ¯”å¦‚0x1000ï¼‰ã€‚
   5. è¡¨è¾¾å¼ b + 1
      ç±»å‹ï¼šint(*)[3]ï¼ˆæ•°ç»„æŒ‡é’ˆçš„è¿ç®—æ­¥é•¿æ˜¯æ•´ä¸ªæ•°ç»„çš„å¤§å°ï¼‰ã€‚
      å€¼ï¼š & a + sizeof(int[3])ï¼ˆå³0x1000 + 3Ã—4 = 0x100Cï¼Œè·³è¿‡æ•´ä¸ªaæ•°ç»„ï¼‰ã€‚
   6. è¡¨è¾¾å¼ * (*b + 1)
      ç±»å‹ï¼šintï¼ˆä¸¤æ¬¡è§£å¼•ç”¨çš„ç»“æœï¼‰ã€‚
      å€¼ï¼ša[1]çš„å€¼ï¼ˆ4ï¼‰ã€‚
      è§£æï¼š * bæ˜¯int * ï¼ˆæŒ‡å‘a[0]ï¼‰â†’ * b + 1æ˜¯int * ï¼ˆæŒ‡å‘a[1]ï¼‰â†’ è§£å¼•ç”¨åå¾—åˆ°a[1]çš„å€¼ã€‚
   7. è¡¨è¾¾å¼ c
      ç±»å‹ï¼šint * *ï¼ˆæŒ‡é’ˆæ•°ç»„åé€€åŒ–ä¸ºæŒ‡å‘é¦–å…ƒç´ çš„æŒ‡é’ˆï¼Œcçš„å…ƒç´ æ˜¯int * ï¼Œæ‰€ä»¥é¦–å…ƒç´ æ˜¯int * ï¼ŒæŒ‡é’ˆçš„æŒ‡é’ˆå°±æ˜¯int * *ï¼‰ã€‚
      å€¼ï¼šæŒ‡é’ˆæ•°ç»„cçš„é¦–å…ƒç´ c[0]çš„åœ°å€ï¼ˆæ¯”å¦‚0x2000ï¼Œc[0]çš„å€¼æ˜¯ & a[0]å³0x1000ï¼‰ã€‚
   8. è¡¨è¾¾å¼ sizeof(a)
      ç»“æœï¼š12ï¼ˆå­—èŠ‚ï¼‰ã€‚
      åŸå› ï¼šsizeof(a)è®¡ç®—çš„æ˜¯æ•´ä¸ªæ•°ç»„çš„å¤§å°ï¼ˆæ•°ç»„å…ƒç´ ä¸ªæ•° Ã— å…ƒç´ ç±»å‹å¤§å°ï¼‰â†’ 3Ã—4 = 12ã€‚
   9. è¡¨è¾¾å¼ sizeof(b)
      ç»“æœï¼š8ï¼ˆå­—èŠ‚ï¼Œ64ä½ç³»ç»Ÿï¼‰æˆ–4ï¼ˆå­—èŠ‚ï¼Œ32ä½ç³»ç»Ÿï¼‰ã€‚
      åŸå› ï¼šbæ˜¯æŒ‡é’ˆï¼ˆæ•°ç»„æŒ‡é’ˆæœ¬è´¨è¿˜æ˜¯æŒ‡é’ˆï¼‰ï¼ŒæŒ‡é’ˆå¤§å°ç”±ç³»ç»Ÿä½æ•°å†³å®šï¼ˆ64ä½ç³»ç»ŸæŒ‡é’ˆå 8å­—èŠ‚ï¼‰ã€‚
   10. è¡¨è¾¾å¼ sizeof(&a)

      ç»“æœï¼š8ï¼ˆå­—èŠ‚ï¼Œ64ä½ç³»ç»Ÿï¼‰æˆ–4ï¼ˆå­—èŠ‚ï¼Œ32ä½ç³»ç»Ÿï¼‰ã€‚
      åŸå› ï¼š&aæ˜¯æ•°ç»„æŒ‡é’ˆï¼ˆç±»å‹int(*)[3]ï¼‰ï¼Œæœ¬è´¨è¿˜æ˜¯æŒ‡é’ˆï¼Œå¤§å°åŒbã€‚
   11. è¡¨è¾¾å¼ sizeof(f1)

      ç»“æœï¼šéæ³•ï¼ˆç¼–è¯‘æŠ¥é”™ï¼‰ã€‚
      åŸå› ï¼šCè¯­è¨€ä¸­ï¼Œsizeofä»…èƒ½ç”¨äºã€Œæ•°æ®å¯¹è±¡ã€ï¼ˆæ¯”å¦‚å˜é‡ã€æ•°ç»„ã€æŒ‡é’ˆï¼‰ï¼Œå‡½æ•°ä¸æ˜¯æ•°æ®å¯¹è±¡ï¼Œæ²¡æœ‰ã€Œå¤§å°ã€çš„æ¦‚å¿µã€‚é¢˜ç›®ä¸­çš„f1æ˜¯å‡½æ•°å£°æ˜ï¼ˆä¸æ˜¯å‡½æ•°æŒ‡é’ˆï¼‰ï¼Œå› æ­¤sizeof(f1)æ˜¯æ— æ•ˆè¯­æ³•ã€‚

---



## 8.å…¨å±€è¿˜æ˜¯å±€éƒ¨ï¼ï¼ï¼

è§‚å¯Ÿç¨‹åºè¾“å‡ºï¼Œæ€è€ƒä¸ºä»€ä¹ˆï¼Ÿ



```c
int g;
int func() {
    static int j = 98;
    j += g;
    return j;
}

int main() {
    g += 3;
    char arr[6] = {};
    arr[1] = func();
    arr[0] = func();
    arr[2] = arr[3] = func() + 1;
    arr[4] = func() + 1;
    printf("%s linux\n",arr);
    return 0;
}
```

---

â€‹    é¢˜è§£ï¼šé¦–å…ˆæ˜ç¡®ï¼š1.staticä¿®é¥°çš„å˜é‡åªä¼šåˆå§‹åŒ–ä¸€æ¬¡ä¸”ä¸ä¼šè¢«å…¶ä»–æ–‡ä»¶æ‰€å¼•ç”¨
â€‹    å…¶æ¬¡ï¼Œg += 3ç­‰ä»·äºg = g + 3.
â€‹    å†è€…ï¼Œgä¸ºå…¨å±€å˜é‡ï¼Œjä¸ºå±€éƒ¨å˜é‡ï¼Œå½“å±€éƒ¨å˜é‡å‡ºä½œç”¨åŸŸåï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸç»“æŸï¼Œå¤±æ•ˆï¼Œè€Œå…¨å±€å˜é‡ä¸ä¼š
â€‹    å¹¶ä¸”å½“åœ¨å±€éƒ¨ä¸­å…¨å±€å˜é‡ä¸å±€éƒ¨å˜é‡å†²çªæ—¶ï¼Œå±€éƒ¨å˜é‡ä¼˜å…ˆï¼Œä»¥ä¸‹ä¸ºç¨‹åºä¸­æ‰§è¡Œé¡ºåºä¸é€»è¾‘ï¼š

   1. åˆå§‹çŠ¶æ€
      å…¨å±€å˜é‡g = 0ï¼ˆé»˜è®¤åˆå§‹åŒ–ï¼‰ï¼›
      é™æ€å˜é‡jæœªåˆå§‹åŒ–ï¼ˆç¬¬ä¸€æ¬¡è°ƒç”¨func()æ—¶æ‰ä¼šåˆå§‹åŒ–ï¼‰ã€‚
   2. main()ä¸­çš„ç¬¬ä¸€æ­¥ï¼šg += 3
      gä»0å˜ä¸º3ï¼ˆå…¨å±€å˜é‡ï¼Œåç»­æ‰€æœ‰func()è°ƒç”¨éƒ½ç”¨è¿™ä¸ªå€¼ï¼‰
   3. ç¬¬ä¸€æ¬¡è°ƒç”¨func()ï¼ˆarr[1] = func()ï¼‰
      ç¬¬ä¸€æ¬¡è¿›å…¥func()ï¼šåˆå§‹åŒ–j = 98ï¼›
      j += g â†’ 98 + 3 = 101ï¼›
      è¿”å›101 â†’ arr[1] = 101ã€‚
   4. ç¬¬äºŒæ¬¡è°ƒç”¨func()ï¼ˆarr[0] = func()ï¼‰
      é™æ€å˜é‡jå·²åˆå§‹åŒ–ï¼ˆä¸Šæ¬¡ç»“æœæ˜¯101ï¼‰ï¼›
      j += g â†’ 101 + 3 = 104ï¼›
      è¿”å›104 â†’ arr[0] = 104ã€‚
   5. ç¬¬ä¸‰æ¬¡è°ƒç”¨func()ï¼ˆarr[2] = arr[3] = func() + 1ï¼‰
      é™æ€å˜é‡jä¸Šæ¬¡ç»“æœæ˜¯104ï¼›
      j += g â†’ 104 + 3 = 107ï¼›
      è¿”å›107 â†’ func() + 1 = 108 â†’ arr[2] = arr[3] = 108ã€‚
   6. ç¬¬å››æ¬¡è°ƒç”¨func()ï¼ˆarr[4] = func() + 1ï¼‰
      é™æ€å˜é‡jä¸Šæ¬¡ç»“æœæ˜¯107ï¼›
      j += g â†’ 107 + 3 = 110ï¼›
      è¿”å›110 â†’ func() + 1 = 111 â†’ arr[4] = 111ã€‚
   7. arræ•°ç»„çš„æœ€ç»ˆå†…å®¹
      char arr[6] = {}ä¼šå°†æœªæ˜¾å¼èµ‹å€¼çš„å…ƒç´ ç½®ä¸º0ï¼ˆCæ ‡å‡†è§„å®šï¼šç”¨{}åˆå§‹åŒ–æ•°ç»„æ—¶ï¼Œå‰©ä½™å…ƒç´ é»˜è®¤ç½®0ï¼‰ã€‚å› æ­¤ï¼š

   arrç´¢å¼•        0   1   2   3   4   5
   å€¼ï¼ˆASCIIï¼‰ 104 101 108 108 111 0
   ä¸‰ã€è§£é‡Šprintfçš„è¾“å‡º
   printf("%s linux\n", arr)çš„è§„åˆ™æ˜¯ï¼š
   %sä¼šä»arrçš„é¦–åœ°å€å¼€å§‹ï¼Œæ‰“å°è¿ç»­çš„å­—ç¬¦ï¼Œç›´åˆ°é‡åˆ°'\0'ï¼ˆASCIIå€¼0ï¼‰ã€‚
   arræ•°ç»„çš„ASCIIå€¼å¯¹åº”å­—ç¬¦ï¼š
   104 â†’ 'h'ï¼ˆarr[0]ï¼‰ï¼›
   101 â†’ 'e'ï¼ˆarr[1]ï¼‰ï¼›
   108 â†’ 'l'ï¼ˆarr[2]ï¼‰ï¼›
   108 â†’ 'l'ï¼ˆarr[3]ï¼‰ï¼›
   111 â†’ 'o'ï¼ˆarr[4]ï¼‰ï¼›
   0 â†’ '\0'ï¼ˆarr[5]ï¼Œç»ˆæ­¢ç¬¦ï¼‰ã€‚
   å› æ­¤ï¼Œarrå¯¹åº”çš„å­—ç¬¦ä¸²æ˜¯"hello"ï¼ŒåŠ ä¸Šåé¢çš„" linux"
   æ•…æœ€ç»ˆè¾“å‡ºæ˜¯ï¼šhello linux

---


## 9. å®å‡½æ•°æŒ‡é’ˆ

è§‚å¯Ÿç¨‹åºç»“æœï¼Œè¯´è¯´ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ï¼š



```c
#define CALL_MAIN(main, x) (*(int (*)(int))*main)(x);
#define DOUBLE(x) 2 * x
int (*registry[1])(int);
int main(int argc) {
    if (argc > 2e3) return 0;
    printf("%d ", argc + 1);
    *registry = (int(*)(int))main;
    CALL_MAIN(registry, DOUBLE(argc + 1));
    return 0;
}
```

   é¢˜è§£ï¼šé¦–å…ˆæ˜ç¡®ï¼š
   å®å®šä¹‰ä¸­#define CALL_MAIN(main, x) (*(int (*)(int))*main)(x);
   ä½œç”¨æ˜¯ï¼šå°†mainï¼ˆå®å‚æ•°ï¼‰æŒ‡å‘çš„å‡½æ•°æŒ‡é’ˆè½¬æ¢ä¸ºã€Œå‚æ•°ä¸ºintã€è¿”å›å€¼ä¸ºintã€çš„å‡½æ•°æŒ‡é’ˆç±»å‹ï¼Œå†è§£å¼•ç”¨å¹¶è°ƒç”¨è¯¥å‡½æ•°ï¼ˆä¼ å‚xï¼‰ã€‚

   DOUBLE(x)
   ä½œç”¨æ˜¯ï¼šå±•å¼€ä¸º 2 * xï¼ˆæ— æ‹¬å·ï¼ è¿™æ˜¯å…³é”®é™·é˜±ï¼Œä¼šå¯¼è‡´å‚æ•°è¡¨è¾¾å¼çš„ä¼˜å…ˆçº§é”™è¯¯ï¼‰ã€‚

   å‡½æ•°æŒ‡é’ˆæ•°ç»„registry
   å®šä¹‰ï¼šint(*registry[1])(int); â†’ é•¿åº¦ä¸º1çš„æ•°ç»„ï¼Œå…ƒç´ æ˜¯ã€Œå‚æ•°ä¸ºintã€è¿”å›å€¼ä¸ºintã€çš„å‡½æ•°æŒ‡é’ˆã€‚

   ç¨‹åºè¿è¡Œé€»è¾‘ä¸¾ä¾‹è®²è§£ï¼š
   1. argc = 1ï¼Œ1å°äº2000ï¼Œä¸ä¼šè¿›å…¥ifè¯­å¥ï¼Œè€Œåè¾“å‡ºargc+1å³2ï¼Œå†è€…*registryèµ‹å€¼ä¸ºmainçš„åœ°å€ï¼Œè°ƒç”¨å®
      æ³¨æ„ï¼šè¿™é‡Œæœ‰ç¬¦å·é™·é˜±ï¼ˆå†™æ³•å¹¶é2*2=4ï¼Œè€Œæ˜¯DOUBLEï¼ˆ1+1ï¼‰ 2 * 1 + 1 = 3,å³æœ€åargc+1=3ï¼‰
      ç„¶åå†å±•å¼€CALL_MAINï¼š(*(int (*)(int))*registry)(3);â†’registry[0]å­˜çš„æ˜¯mainçš„åœ°å€ï¼Œå› æ­¤ç­‰ä»·äºè°ƒç”¨main(3)ã€‚
   2. ç¬¬äºŒæ¬¡è°ƒç”¨main(3)ï¼Œæ£€æŸ¥3å°äº2000ï¼Œä¸è¿›å…¥ifè¯­å¥ï¼Œæ‰€ä»¥è¾“å‡º3+1ä¸º4ï¼Œç„¶åä»¥æ­¤ç±»æ¨ã€‚
      æ•…æœ€ç»ˆè¾“å‡ºï¼š2 4 8 16 32 64 128 256 512 1024


---


## 10. æ‹¼æ¥ æ’åº å»é‡

æœ¬é¢˜è¦æ±‚ä½ ç¼–å†™ä»¥ä¸‹å‡½æ•°ï¼Œä¸èƒ½æ”¹åŠ¨ `main` å‡½æ•°é‡Œçš„ä»£ç ã€‚å®ç°å¯¹ `arr1` å’Œ `arr2` çš„æ‹¼æ¥ã€æ’åºå’Œå»é‡ã€‚ä½ éœ€è¦è‡ªè¡Œå®šä¹‰ `result` ç»“æ„ä½“å¹¶ä½¿ç”¨ `malloc` æ‰‹åŠ¨å¼€è¾Ÿå†…å­˜ã€‚



```c
int main() {
    int arr1[] = { 6, 1, 2, 1, 9, 1, 3, 2, 6, 2 };
    int arr2[] = { 4, 2, 2, 1, 6, 2 };
    int len1 = sizeof(arr1) / sizeof(arr1[0]);
    int len2 = sizeof(arr2) / sizeof(arr2[0]);

    struct result result;
    your_concat(arr1, len1, arr2, len2, result);
    print_result(result);
    your_sort(result);
    print_result(result);
    your_dedup(result);
    print_result(result);
    free(result.arr);
    return 0;
}
```


---


   é¢˜è§£ï¼š
   #define _CRT_SECURE_NO_WARNINGS
   #include<stdio.h>
   #include<stdlib.h>
   typedef struct
   {
    int* arr;
    int len;
   }result;

   void your_concat(int arr1[], int len1, int arr2[], int len2, result* res)
   {
    res->len = len1 + len2;
    res->arr = (int*)malloc(res->len * sizeof(int));
    for (int i = 0; i < len1; i++)
        {
            res->arr[i] = arr1[i];
        }
    for (int i = 0; i < len2; i++)
    {
        res->arr[len1 + i] = arr2[i];
    }


   }
   void your_sort(result* res)
   {
    for (int i = 0; i < res->len - 1; i++)
    {
        for (int j = 0; j < res->len - i - 1; j++)
        {
            if (res->arr[j] > res->arr[j + 1])
            {
                int temp = res->arr[j];
                res->arr[j] = res->arr[j + 1];
                res->arr[j + 1] = temp;
            }
        }
    }
   }

   void your_dedup(result* res)
   {
    if (res->len == 0)return ;
    int unique_len = 0;
    for (int i = 0; i < res->len; i++)
    {
        if (i == 0 || res->arr[i] != res->arr[i - 1])
        {
            res->arr[unique_len] = res->arr[i];
            unique_len++;
        }
    }
    res->len = unique_len;
   }

   void print_result(result res)
   {
    for (int i = 0; i < res.len; i++)
    {
        printf("%d", res.arr[i]);
    }
    printf("\n");
   }
   int main() {
        int arr1[] = { 6, 1, 2, 1, 9, 1, 3, 2, 6, 2 };
        int arr2[] = { 4, 2, 1, 6, 2 };
        int len1 = sizeof(arr1) / sizeof(arr1[0]);
        int len2 = sizeof(arr2) / sizeof(arr2[0]);
    

```c
    result result;
    your_concat(arr1, len1, arr2, len2, &result);
    print_result(result);
    your_sort(&result);
    print_result(result);
    your_dedup(&result);
    print_result(result);
    free(result.arr);
    return 0;
}
```

---

## 11. æŒ‡é’ˆé­”æ³•

ç”¨ä½ æ™ºæ…§çš„çœ¼ç›ï¼Œé€è¿‡è¿™æŒ‡é’ˆé­”æ³•çš„è¡¨è±¡ï¼Œçœ‹æ¸…å…¶æœ¬è´¨ï¼š



```c
void magic(int(*pa)[6], int** pp) {
    **pp += (*pa)[2];
    *pp = (*pa) + 5;
    **pp -= (*pa)[0];
    *pp = (*pa) + ((*(*pa + 3) & 1) ? 3 : 1);
    *(*pp) += *(*pp - 1);
    *pp = (*pa) + 2;
}
int main() {
    int a[6] = { 2, 4, 6, 8, 10, 12 };
    int* p = a + 1,** pp = &p;
    magic(&a, pp);
    printf("%d %d\n%d %d %d\n%d %d\n",*p,**pp,a[1],a[2],a[3],a[5],p-a);
    return 0;
}
```

é¢˜è§£ï¼š
ä¸€ã€mainå‡½æ•°ï¼ˆè°ƒç”¨magicå‰çš„åˆå§‹çŠ¶æ€ï¼‰
int a[6] = { 2, 4, 6, 8, 10, 12 };  // æ•°ç»„açš„åˆå§‹å€¼ï¼šç´¢å¼•0~5å¯¹åº”çš„å€¼ä¸º2ã€4ã€6ã€8ã€10ã€12
int* p = a + 1;                            // pæŒ‡å‘a[1]ï¼ˆa+1å³æ•°ç»„é¦–åœ°å€+1ä¸ªintå¤§å°ï¼‰ï¼Œ*p = 4
int** pp = &p;                           // ppæ˜¯æŒ‡å‘pçš„äºŒçº§æŒ‡é’ˆï¼Œ**pp = *p = 4ï¼ˆé—´æ¥è®¿é—®pæŒ‡å‘çš„å€¼ï¼‰
äºŒã€magicå‡½æ•°ï¼ˆæ ¸å¿ƒæŒ‡é’ˆæ“ä½œï¼‰
å‡½æ•°å®šä¹‰ï¼švoid magic(int(*pa)[6], int** pp)
paï¼šæŒ‡å‘æ•°ç»„açš„æŒ‡é’ˆï¼ˆpa = &aï¼‰ï¼Œå› æ­¤ * paç­‰ä»·äºæ•°ç»„aï¼ˆå¯é€šè¿‡(*pa)[i]è®¿é—®a[i]ï¼‰ã€‚
ppï¼šæŒ‡å‘pçš„äºŒçº§æŒ‡é’ˆï¼ˆpp = &pï¼‰ï¼Œå› æ­¤ * ppç­‰ä»·äºpï¼ˆå¯ä¿®æ”¹pçš„æŒ‡å‘ï¼‰ï¼Œ * *ppç­‰ä»·äº * pï¼ˆå¯ä¿®æ”¹pæŒ‡å‘çš„å€¼ï¼‰ã€‚

1. ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹pæŒ‡å‘çš„å€¼ï¼ˆa[1]ï¼‰
* *pp += (*pa)[2];  // **pp = *p = a[1]ï¼Œ(*pa)[2] = a[2] = 6
è®¡ç®—ï¼š* p = 4 + 6 = 10 â†’ æ•°ç»„a[1]çš„å€¼ä»4å˜ä¸º10ã€‚
æ­¤æ—¶æ•°ç»„aï¼š[2, 10, 6, 8, 10, 12]ã€‚
2. ç¬¬äºŒæ­¥ï¼šä¿®æ”¹pçš„æŒ‡å‘ï¼ˆæŒ‡å‘a[5]ï¼‰
* pp = (*pa) + 5;  // *pp = pï¼ˆä¿®æ”¹pçš„æŒ‡å‘ï¼‰ï¼Œ(*pa)+5 = a+5ï¼ˆæ•°ç»„é¦–åœ°å€+5ä¸ªintå¤§å°ï¼‰
pç°åœ¨æŒ‡å‘a[5]ï¼ˆa + 5ï¼‰ï¼Œ * p = a[5] = 12ã€‚
æ­¤æ—¶ * *pp = *p = 12ï¼ˆé—´æ¥è®¿é—®pæŒ‡å‘çš„a[5]ï¼‰ã€‚
3. ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹pæŒ‡å‘çš„å€¼ï¼ˆa[5]ï¼‰
* *pp -= (*pa)[0];  // **pp = *p = a[5]ï¼Œ(*pa)[0] = a[0] = 2
è®¡ç®—ï¼š* p = 12 - 2 = 10 â†’ æ•°ç»„a[5]çš„å€¼ä»12å˜ä¸º10ã€‚
æ­¤æ—¶æ•°ç»„aï¼š[2, 10, 6, 8, 10, 10]ã€‚
4. ç¬¬å››æ­¥ï¼šæ ¹æ®æ¡ä»¶ä¿®æ”¹pçš„æŒ‡å‘
* pp = (*pa) + ((*(*pa + 3) & 1) ? 3 : 1);  // æ¡ä»¶åˆ¤æ–­ï¼š*(*pa+3) = a[3] = 8ï¼Œ8&1=0ï¼ˆäºŒè¿›åˆ¶1000&0001=0ï¼‰
æ¡ä»¶åˆ†æï¼š(*(*pa + 3) & 1) â†’ å–a[3]çš„æœ€ä½ä½ï¼ˆåˆ¤æ–­å¥‡å¶ï¼‰ï¼Œç»“æœä¸º0ï¼ˆå‡ï¼‰ï¼Œå› æ­¤å–1ã€‚
è®¡ç®—ï¼š(*pa) + 1 = a + 1ï¼ˆæŒ‡å‘a[1]ï¼‰ â†’ pç°åœ¨æŒ‡å‘a[1]ã€‚
æ­¤æ—¶ * p = a[1] = 10ï¼ˆa[1]æœªè¢«åç»­ä¿®æ”¹ï¼Œä¿æŒ10ï¼‰ã€‚
5. ç¬¬äº”æ­¥ï¼šä¿®æ”¹pæŒ‡å‘çš„å€¼ï¼ˆa[1]ï¼‰
* (*pp) += *(*pp - 1);  // *pp = pï¼ˆæŒ‡å‘a[1]ï¼‰ï¼Œ*(*pp) = a[1] = 10ï¼›*(*pp-1) = *(a+1-1) = a[0] = 2
è®¡ç®—ï¼ša[1] = 10 + 2 = 12 â†’ æ•°ç»„a[1]çš„å€¼ä»10å˜ä¸º12ã€‚
æ­¤æ—¶æ•°ç»„aï¼š[2, 12, 6, 8, 10, 10]ã€‚
6. ç¬¬å…­æ­¥ï¼šæœ€ç»ˆä¿®æ”¹pçš„æŒ‡å‘ï¼ˆæŒ‡å‘a[2]ï¼‰
* pp = (*pa) + 2;  // *pp = pï¼ˆä¿®æ”¹pçš„æŒ‡å‘ï¼‰ï¼Œ(*pa)+2 = a+2ï¼ˆæŒ‡å‘a[2]ï¼‰
pç°åœ¨æŒ‡å‘a[2]ï¼ˆa + 2ï¼‰ï¼Œ * p = a[2] = 6ï¼ˆa[2]æœªè¢«ä¿®æ”¹ï¼Œä¿æŒåˆå§‹å€¼6ï¼‰ã€‚
æ­¤æ—¶ * *pp = *p = 6ï¼ˆé—´æ¥è®¿é—®pæŒ‡å‘çš„a[2]ï¼‰ã€‚
ä¸‰ã€mainå‡½æ•°ï¼ˆè°ƒç”¨magicåçš„çŠ¶æ€ï¼‰
printf("%d %d\n%d %d %d\n%d %d\n", *p, **pp, a[1], a[2], a[3], a[5], p - a);
*pï¼špæŒ‡å‘a[2]ï¼Œå€¼ä¸º6ã€‚
** ppï¼šppæŒ‡å‘pï¼Œ* pp = pï¼Œ * *pp = *p = 6ã€‚
a[1]ï¼šç»è¿‡ä¿®æ”¹åçš„å€¼ä¸º12ã€‚
a[2]ï¼šæœªè¢«ä¿®æ”¹ï¼Œå€¼ä¸º6ã€‚
a[3]ï¼šæœªè¢«ä¿®æ”¹ï¼Œå€¼ä¸º8ã€‚
a[5]ï¼šç»è¿‡ä¿®æ”¹åçš„å€¼ä¸º10ã€‚
p - aï¼šæŒ‡é’ˆpä¸æ•°ç»„açš„é¦–åœ°å€ä¹‹å·®ï¼ˆå•ä½ä¸ºintï¼‰ï¼Œå³a + 2 - a = 2ï¼ˆpæŒ‡å‘a[2]ï¼Œç´¢å¼•ä¸º2ï¼‰ã€‚
å››ã€æœ€ç»ˆè¾“å‡ºç»“æœ
6            6       // *p = 6ï¼Œ**pp = 6
12    6    8    // a[1] = 12ï¼Œa[2] = 6ï¼Œa[3] = 8
10    2      // a[5] = 10ï¼Œp - a = 2ï¼ˆpæŒ‡å‘a[2]ï¼‰

## 12. å¥‡æ€ªçš„å¾ªç¯

ä½ èƒ½çœ‹æ˜ç™½è¿™ä¸ªç¨‹åºæ€æ ·è¿è¡Œå—ï¼Ÿè¯•ç€ç†è§£è¿™ä¸ªç¨‹åºå§ï¼



```c
union data {
    void**** p;
    char arr[20];
};
typedef struct node {
    int a;
    union data b;
    void (*use)(struct node* n);
    char string[0];
} Node;
void func2(Node* node);

void func1(Node* node) {
    node->use = func2;
    printf("%s\n", node->string);
}
void func2(Node* node) {
    node->use = func1;
    printf("%d\n", ++(node->a));
}
int main() {
    const char* s = "Your journey begins here!";
    Node* P = (Node*)malloc(sizeof(Node) + (strlen(s) + 1) * sizeof(char));
    strcpy(P->string, s);
    P->use = func1;
    P->a = sizeof(Node) * 50 + sizeof(union data);
    while (P->a < 2028) {
        P->use(P);
    }
    free(P);
    return 0;
}
```


é¢˜è§£ï¼š
union data {
    void**** p;    // å››çº§æŒ‡é’ˆï¼ˆå 8å­—èŠ‚ï¼Œ64ä½ç³»ç»Ÿï¼‰
    char arr[20];  // 20å­—èŠ‚å­—ç¬¦æ•°ç»„
 };
 è”åˆä½“æ€»å¤§å°ä¸º24å­—èŠ‚ï¼ˆå–æœ€å¤§æˆå‘˜ï¼Œä½†è¦å¯¹é½å­—èŠ‚ï¼‰
/* å…³é”®ç‚¹ï¼šæŒ‡é’ˆ8å­—èŠ‚ï¼Œcharç±»å‹ä¸º1å­—èŠ‚ï¼Œè¦å¯¹å…¶å­—èŠ‚ï¼Œä¸”å¤§äº20ï¼Œæ•…å†…å­˜ä¸º24å­—èŠ‚
å®šä¹‰ç»“æ„ä½“nodeï¼ˆå«æŸ”æ€§æ•°ç»„ï¼‰ 
typedef struct node {
    int a;                  // 4å­—èŠ‚æ•´å‹å˜é‡
    union data b;           // 24å­—èŠ‚è”åˆä½“
    æ³¨æ„ï¼šè¿™é‡Œè¦å¯¹é½å­—èŠ‚ï¼Œè”åˆä½“ä¸º8å­—èŠ‚ï¼Œæ•´å½¢aä¸º4å­—èŠ‚ï¼Œå¯¹å…¶å­—èŠ‚ï¼Œæ•…aè°ƒæ•´ä¸º8å­—èŠ‚
    void (*use)(struct node* n); // 8å­—èŠ‚å‡½æ•°æŒ‡é’ˆ
    char string[0];         // æŸ”æ€§æ•°ç»„ï¼ˆä¸å ç»“æ„ä½“ç©ºé—´ï¼‰
} Node;
  ç»“æ„ä½“å¤§å°è®¡ç®—ï¼ˆ64ä½ç³»ç»Ÿï¼‰ï¼š
   int(8) + union(24) + å‡½æ•°æŒ‡é’ˆ(8) = 40å­—èŠ‚
   å®é™…å› å¯¹é½è¦æ±‚ä¼šå¡«å……åˆ°32å­—èŠ‚ 

   /* å‡½æ•°å£°æ˜ */
void func2(Node* node);

/* func1å®ç° */
void func1(Node* node) {
    node->use = func2;      // åˆ‡æ¢å‡½æ•°æŒ‡é’ˆæŒ‡å‘func2
    printf("%s\n", node->string); // æ‰“å°æŸ”æ€§æ•°ç»„å†…å®¹
}

/* func2å®ç° */
void func2(Node* node) {
    node->use = func1;      // åˆ‡æ¢å‡½æ•°æŒ‡é’ˆæŒ‡å‘func1
    printf("%d\n", ++(node->a)); // å…ˆé€’å¢aå†æ‰“å°
}

int main() {
    const char* s = "Your journey begins here!"; // 23å­—ç¬¦+ç»“æŸç¬¦=24å­—èŠ‚

```c
/* åŠ¨æ€å†…å­˜åˆ†é… */
Node* P = (Node*)malloc(sizeof(Node) + (strlen(s) + 1) * sizeof(char));
 åˆ†é…ç©ºé—´ = ç»“æ„ä½“32å­—èŠ‚ + å­—ç¬¦ä¸²24å­—èŠ‚ = 56å­—èŠ‚

strcpy(P->string, s);   // å°†å­—ç¬¦ä¸²å¤åˆ¶åˆ°æŸ”æ€§æ•°ç»„

P->use = func1;         // åˆå§‹å‡½æ•°æŒ‡é’ˆæŒ‡å‘func1

/* å…³é”®é—®é¢˜ç‚¹ï¼šaçš„åˆå§‹åŒ– */
P->a = sizeof(Node) * 50 + sizeof(union data);
 å®é™…è®¡ç®—ï¼š40*50 + 24 = 2000 + 24 = 2024 
```


```c
/* å¾ªç¯æ§åˆ¶ */
while (P->a < 2028) {   // å½“aå€¼å°äº2028æ—¶å¾ªç¯
    P->use(P);          // é€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨å½“å‰å‡½æ•°
}

free(P);                // é‡Šæ”¾å†…å­˜
return 0;
```
}
ç„¶åå†func1ä¸func2å‡½æ•°æ¥å›åˆ‡æ¢ï¼Œè¾“å‡ºå†…å®¹ï¼Œç›´åˆ°açš„å€¼ä¸ç¬¦åˆwhileæ¡ä»¶åé€€å‡ºã€‚
æœ€ç»ˆç­”æ¡ˆä¸ºï¼š
 Your journey begins here!
2025
Your journey begins here!
2026
Your journey begins here!
2027
Your journey begins here!
2028

## 13. GNU/Linux (é€‰åš)

æ³¨ï¼šå˜¿ï¼ä½ æˆ–è®¸å¯¹ Linux å‘½ä»¤ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œç”šè‡³ä½ æ²¡å¬è¯´è¿‡ Linuxã€‚ä½†åˆ«æ‹…å¿ƒï¼Œè¿™æ˜¯é€‰åšé¢˜ï¼Œäº†è§£ Linux æ˜¯åŠ åˆ†é¡¹ï¼Œä½†ä¸äº†è§£ä¹Ÿä¸æ‰£åˆ†å“¦ï¼

1. ä½ çŸ¥é“ `cd` å‘½ä»¤çš„ç”¨æ³•ä¸ `/` `~` `-` è¿™äº›ç¬¦å·çš„å«ä¹‰å—ï¼Ÿ
2. ä½ çŸ¥é“ Linux ç³»ç»Ÿå¦‚ä½•åˆ›å»ºå’Œåˆ é™¤ä¸€ä¸ªç›®å½•å—ï¼Ÿ
3. è¯·é—®ä½ è¿˜æ‡‚å¾—å“ªäº›ä¸ GNU/Linux ç›¸å…³çš„çŸ¥è¯†å‘¢ï¼Ÿ


---


é¢˜è§£ï¼š**1. `cd` å‘½ä»¤ä¸ `/`ã€`~`ã€`-` çš„å«ä¹‰**

`cd` æ˜¯ *change directory* çš„ç¼©å†™ï¼Œç”¨äº**åˆ‡æ¢ç›®å½•**ã€‚

å¸¸è§ç”¨æ³•ï¼š

```
cd /home/user     # è¿›å…¥ç»å¯¹è·¯å¾„ /home/user
cd Documents      # è¿›å…¥å½“å‰ç›®å½•ä¸‹çš„ Documents æ–‡ä»¶å¤¹
```

ç¬¦å·è§£é‡Šï¼š

| ç¬¦å· | å«ä¹‰                                | ç¤ºä¾‹                              |
| ---- | ----------------------------------- | --------------------------------- |
| `/`  | æ ¹ç›®å½•ï¼ˆæ•´ä¸ª Linux æ–‡ä»¶ç³»ç»Ÿçš„èµ·ç‚¹ï¼‰ | `cd /` è¿›å…¥ç³»ç»Ÿæ ¹ç›®å½•             |
| `~`  | å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆhome ç›®å½•ï¼‰       | `cd ~` æˆ–ç›´æ¥è¾“å…¥ `cd` è¿”å›ä¸»ç›®å½• |
| `-`  | è¿”å›ä¸Šä¸€æ¬¡æ‰€åœ¨ç›®å½•                  | `cd -`                            |

ç¤ºä¾‹ï¼š

```
cd /usr
cd /etc
cd -       # è¿”å›åˆ° /usr
```

------

### **2. åˆ›å»ºä¸åˆ é™¤ç›®å½•**

- **åˆ›å»ºç›®å½•ï¼š**

```
mkdir new_folder         # åˆ›å»ºä¸€ä¸ªåä¸º new_folder çš„ç›®å½•
mkdir -p a/b/c           # é€’å½’åˆ›å»ºå¤šçº§ç›®å½• a/b/c
```

- **åˆ é™¤ç›®å½•ï¼š**

```
rmdir empty_folder       # åˆ é™¤ä¸€ä¸ªç©ºç›®å½•
rm -r folder_name        # é€’å½’åˆ é™¤ç›®å½•åŠå…¶å†…å®¹ï¼ˆâš å±é™©æ“ä½œï¼‰
rm -rf folder_name       # å¼ºåˆ¶åˆ é™¤ç›®å½•åŠå†…å®¹ï¼Œä¸è¯¢é—®ç¡®è®¤ï¼ˆâš æ…ç”¨ï¼‰
```

------

### **3. å…¶ä»– GNU/Linux ç›¸å…³çŸ¥è¯†**

ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§ä¸”æœ‰ç”¨çš„ Linux æ¦‚å¿µä¸å‘½ä»¤ï¼š

| ç±»å‹         | ç¤ºä¾‹                             | è¯´æ˜                         |
| ------------ | -------------------------------- | ---------------------------- |
| æŸ¥çœ‹ç›®å½•å†…å®¹ | `ls`, `ls -l`, `ls -a`           | åˆ—å‡ºæ–‡ä»¶ä¸ç›®å½•               |
| æ–‡ä»¶æ“ä½œ     | `cp`, `mv`, `rm`, `touch`, `cat` | å¤åˆ¶ã€ç§»åŠ¨ã€åˆ é™¤ã€åˆ›å»ºæ–‡ä»¶ç­‰ |
| æŸ¥çœ‹å½“å‰è·¯å¾„ | `pwd`                            | æ‰“å°å½“å‰å·¥ä½œç›®å½•             |


---


ç»“è¯­

ğŸ‰ æ­å–œä½ å®Œæˆäº†æ‰€æœ‰é¢˜ç›®ï¼`\(^â–½^)/` æ¥åˆ°è¿™é‡Œå·²ç»æ¯”ç»å¤§éƒ¨åˆ†äººå¼ºå¾ˆå¤šäº†ã€‚
æ— è®ºç»“æœå¦‚ä½•ï¼Œç›¸ä¿¡è¿™ä¸ªè¿‡ç¨‹å·²ç»è®©ä½ å¯¹ C è¯­è¨€å’Œ Linux æœ‰äº†æ›´æ·±å…¥çš„äº†è§£ã€‚
è®°ä½ï¼Œç¼–ç¨‹æ˜¯ä¸€ä¸ªæŒç»­å­¦ä¹ çš„è¿‡ç¨‹ï¼Œä¿æŒå¥½å¥‡å¿ƒå’Œå­¦ä¹ çš„çƒ­æƒ…ã€‚

æˆ‘ä»¬æœŸå¾…åœ¨è¥¿é‚® Linux å…´è¶£å°ç»„è§åˆ°ä½ ï¼